<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <style>
 .floor-rectangle {
  position: fixed;
  border-top: 10px solid black;
  top: 350px;
  right: -100px;
  width: 3000px;
  height: 200px;
  background-color: #808080;
}

#fullscreenBtn {
  position: fixed;
  bottom: 95px;
  left: 36%;
  width: 300px;
  background-color: #FFD700;
  color: black;
  border: none;
  padding: 10px;
  font-size: 16px;
  cursor: pointer;
  z-index: 1;
}

#fullscreenBtn:hover {
  background-color: #FFA500;
}

.power-toggle-btn {
  z-index: 10000;
  background-color: black;
  color: yellow;
  padding: 10px 20px;
  border: 2px solid #000;
  border-radius: 5px;
  cursor: pointer;
  font-weight: bold;
  position: absolute;
  top: 20px;
  left: 20px;
  transition: background-color 0.3s, color 0.3s;
}

.power-toggle-btn.active {
  background-color: yellow;
  color: black;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(20px);
  }
}

#camera-feed {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.static-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('Static.png');
  background-size: cover;
  background-position: center;
  z-index: 10000;
  pointer-events: none;
  opacity: 0;
  display: none;
  transition: opacity 0.1s ease-in, opacity 0.1s ease-out 0.3s;
}

#Cam {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
  z-index: 9999;
}

#Cam .menu-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(128, 128, 128, 0.7);
  z-index: -1;
}

#Cam img.hallway-image {
  position: relative;
  margin: 0 auto;
  display: block;
  z-index: 1;
}

#Cam .camera-options {
  position: fixed;
  top: 10%;
  right: 20px;
  z-index: 2;
  width: auto;
  max-width: 300px;
}

#Cam .camera-options button {
  margin: 5px;
  padding: 10px 20px;
  background-color: #fff;
  border: 1px solid #ccc;
  cursor: pointer;
}

#game-time {
  font-size: 24px;
  font-family: Arial, sans-serif;
  position: absolute;
  top: 10px;
  right: 10px;
  color: white;
}

#night-counter {
  font-size: 24px;
  font-family: Arial, sans-serif;
  position: absolute;
  top: 40px;
  right: 10px;
  color: white;
}

#win-message {
  display: none;
  font-size: 36px;
  color: green;
  font-weight: bold;
  text-align: center;
  margin-top: 50px;
}

#office-vent-closed {
  position: absolute;
  transform: rotate(2.6deg);
  top: 60px;
  left: 60%;
  display: block;
  width: 400px;
  height: auto;
  z-index: 999;
}

.menu {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  width: 60%;
  max-width: 400px;
}

.logo-container {
  position: relative;
}

#chomps-logo {
  width: 100%;
  height: auto;
  display: block;
}

.start-button {
  position: absolute;
  top: 50%;
  left: 50%;
  padding: 15px 30px;
  font-size: 20px;
  background-color: #fb311a;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.start-button:hover {
  background-color: #45a049;
}

.controls {
  margin-top: 20px;
}

.controls h3 {
  font-size: 24px;
  margin-bottom: 15px;
}

.controls button {
  display: block;
  width: 100%;
  padding: 15px;
  margin: 10px 0;
  font-size: 18px;
  background-color: #008CBA;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.controls button:hover {
  background-color: #007B9A;
}

.animatronic-controls {
  position: absolute;
  right: 10px;
  top: 10%;
  padding: 20px;
  background-color: rgba(0, 0, 0, 0.7);
  color: white;
  border-radius: 10px;
  text-align: center;
}

.animatronic-controls h3 {
  margin-bottom: 20px;
  font-size: 24px;
}

.animatronic-controls button {
  display: block;
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  font-size: 16px;
  background-color: #008CBA;
  color: white;
  border: none;
  cursor: pointer;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.animatronic-controls button:hover {
  background-color: #007B9A;
}

#fade-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: black;
  opacity: 0;
  transition: opacity 0.1s ease-in-out;
  pointer-events: none;
  z-index: 9999;
}

body {
  font-family: Arial, sans-serif;
  background-color: #1b1b1b;
  color: white;
  text-align: center;
}

#clawed-jumpscare-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.8);
  z-index: 10010;
  display: none;
}

#clawed-jumpscare-video {
  object-fit: cover;
  width: 100%;
  height: 100%;
}

#fog-overlay {
  position: absolute;
  z-index: 10000;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  opacity: 0.5;
  display: block;
}

.game-screen {
  display: none;
  margin-top: 20px;
}

.camera-feed button {
  position: fixed;
  z-index: 9999;
  bottom: 20px;
  right: 20px;
  width: 500px;
  height: 50px;
  background-color: white;
  color: #000;
  font-weight: bold;
  font-size: 18px;
  text-align: center;
  line-height: 50px;
  border: 3px solid black;
  border-radius: 8px;
  font-family: monospace;
  cursor: pointer;
}

.camera-menu {
  display: flex;
  justify-content: center;
  margin-top: 20px;
  flex-wrap: wrap;
}

.camera-menu button {
  margin: 10px;
  padding: 10px;
}

.door-controls {
  position: fixed;
  bottom: 20px;
  left: 20px;
}

.door-controls button {
  width: 500px;
  height: 50px;
  background-color: red;
  font-weight: bold;
  font-size: 18px;
  text-align: center;
  line-height: 50px;
  border: 3px solid black;
  border-radius: 8px;
  font-family: monospace;
  cursor: pointer;
  color: white;
  outline: none;
}

#camera-menu {
  top: 50%;
  left: 50%;
  display: none;
  width: 300px;
  margin: auto;
}

.camera-menu {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.button-grid {
  display: grid;
  grid-template-rows: repeat(5, 1fr);
  grid-template-columns: repeat(5, 1fr);
  gap: 10px;
}

.button-grid button {
  z-index: 10000;
  top: 10px;
  left: 50%;
  font-weight: bold;
  border-radius: 4px;
  border: 9px solid black;
  width: 100%;
  height: 100%;
}

.main-area {
  grid-row: 1 / span 2;
  grid-column: 2 / span 2;
}

.lab {
  grid-row: 1;
  grid-column: 4;
}

.power-room {
  grid-row: 2;
  grid-column: 4;
}

.hallway {
  color: gray;
  background-color: gray;
  grid-row: 3;
  grid-column: 3;
}

.office {
  color: gray;
  grid-row: 4;
  grid-column: 3;
  z-index: 10000;
  background-color: gray;
}

.vent {
  grid-row: 3;
  grid-column: 4;
  height: 50%;
  width: 50%;
}

#hallway {
  position: relative;
  width: 20px;
  height: 50px;
  overflow: hidden;
}

.hallway-image {
  transform: rotate(0.5deg);
}

button-grid:active {
  background-color: green;
}

.overlay-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}

.chomps-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: none;
}

.camera-view {
  width: 100%;
  height: 100%;
  position: relative;
  display: block;
}

  </style>
  <img id="office-vent-closed" src="OfficeVent.png" alt="Office Vent Closed" style="display: none;">
<div class="floor-rectangle"></div>

<div id="Cam" style="display:none;">
  <img id="fog-overlay" src="Fog.png" alt="Fog Overlay" style="display: none; position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 2;">
  <div class="menu-overlay"></div>
  <img src="Cam.png" alt="Camera Menu Image" class="cam-image" style="width: 500px; height: 500px;">
  <div class="camera-options">
    <div class="button-grid">
      <button class="lab" onclick="openCamera('4')">Storage</button>
      <button class="hallway" onclick="Nothing()">Hallway</button>
      <button class="main-area" onclick="openCamera('1')">Main Area</button>
      <button class="office" onclick="Nothing()">Office</button>
      <button class="power-room" onclick="openCamera('5')">Power Room</button>
      <button class="vent" onclick="openCamera('3')">Vent</button>
    </div>
  </div>
</div>

<div class="static-overlay"></div>
<div id="fade-overlay"></div>
<div id="clawed-jumpscare-overlay" style="display: none;">
  <video id="clawed-jumpscare-video" width="100%" height="100%" autoplay>
    <source src="clawedjumpscare.mp4" type="video/mp4">
  </video>
</div>

<div class="container">
  <div id="death-screen" style="display: none; color: white;">
    <h2>GAME OVER</h2>
    <p id="death-message"></p>
  </div>

  <div class="menu">
    <div class="logo-container">
      <img id="chomps-logo" src="CHOMPSLOGO.png" alt="Chomps Logo">
      <button class="start-button" onclick="showGameScreen()">Start Game</button>
    </div>
  </div>

  <div class="animatronic-controls">
    <h3>Controls:</h3>
    <button onclick="setDifficulty()">Set Difficulty</button>
    <button onclick="toggleAnimatronic('chomps')">Toggle Chomps</button>
    <button onclick="toggleAnimatronic('mouse')">Toggle Mouse</button>
    <button onclick="toggleAnimatronic('clawed')">Toggle Clawed</button>
    <button onclick="quitGame()">Quit</button>
  </div>

  <div class="game-screen">
    <div class="door-controls">
      <button onclick="closeOfficeDoor()"></button>
    </div>
    <div class="camera-feed">
      <button onclick="openCamerasMenu()"></button>
    </div>

    <div id="hallway"></div>
    <img src="image/Hallway.png" alt="Hallway" class="hallway-image" style="width: 375px; height: 375px; position: absolute; top: 0; left: 50%; transform: translateX(-50%);">

    <div class="power-controls">
      <button class="power-toggle-btn" style="display: none;" onclick="togglePower()">Toggle Power</button>
    </div>
    
    <audio id="clawedVentAudio" src="audio/ventfnaf2.mp3" preload="auto" style="display: none;"></audio>
    <audio id="jumpScareAudio" src="audio/fnaf2jumpscare.mp3" preload="auto" style="display: none;"></audio>
    <audio id="chompsAmbAudio" src="audio/fnaf2Amb.mp3" preload="auto" style="display: none;"></audio>
    <audio id="metalwalk" src="audio/MetalWalk.mp3" preload="auto" style="display: none;"></audio>
    <audio id="door-audio" src="audio/Door.mp3"></audio>
    <audio id="error-audio" src="audio/Error.mp3"></audio>
    <div id="audio-cues" class="audio-cues" style="display: none;"></div>
  </div>
</div>
</head>
<body
<script>
  let isCameraOpen = false;
let chompsInMainArea = true;
let mouseInHallway = false;
let clawedInVent = false;
let powerOff = false;
let aiDifficulty = 1;
let movementInterval = 10000;
let powerRoomCameraActive = false;
let officeDoorClosed = false;
let clawedVentTimer;
let mouseInLab = false;
let hours = 12;
let night = 1;
let gameRunning = true;
let mouseAtDoor = false;
let lastActionTime = 0;
const cooldownDuration = 1200;
let powerRoomActive = true;
let chompsActive = true;
let mouseActive = true;
let clawedActive = true;
let showFog = true;

const gameTimeDisplay = document.getElementById('game-time');
const nightCounterDisplay = document.getElementById('night-counter');
const winMessage = document.getElementById('win-message');
const nextHourButton = document.getElementById('next-hour');

const cameras = {
  mainArea: {
    name: "Main Area",
    isOpen: false,
    toggle: function() {
      this.isOpen = !this.isOpen;
      if (this.isOpen) {
        updateCameraFeed(this.name);
        hidePowerToggleButton();
      } else {
        closeCameraFeed();
      }
    },
    updateFeed: function() {
      if (chompsInMainArea && mouseInMainArea && clawedInMainArea) {
        document.querySelector('.camera-image').src = 'S-All.png';
      } else {
        document.querySelector('.camera-image').src = 'S.png';
      }
    }
  },
  hallway: {
    name: "Hallway",
    isOpen: false,
    toggle: function() {
      this.isOpen = !this.isOpen;
      if (this.isOpen) {
        updateCameraFeed(this.name);
        hidePowerToggleButton();
      } else {
        closeCameraFeed();
      }
    },
    updateFeed: function() {
      document.querySelector('.camera-image').src = 'ChompsHallway.png';
    }
  },
  vent: {
    name: "Vent",
    isOpen: false,
    toggle: function() {
      this.isOpen = !this.isOpen;
      if (this.isOpen) {
        updateCameraFeed(this.name);
        openVentCamera();
      } else {
        closeVentCamera();
        closeCameraFeed();
      }
    },
    updateFeed: function() {
      if (clawedInVent) {
        document.querySelector('.camera-image').src = 'Vent.png';
      } else {
        document.querySelector('.camera-image').src = 'VentEmpty.png';
      }
    }
  },
  lab: {
    name: "Lab",
    isOpen: false,
    toggle: function() {
      this.isOpen = !this.isOpen;
      if (this.isOpen) {
        updateCameraFeed(this.name);
        hidePowerToggleButton();
      } else {
        closeCameraFeed();
      }
    },
    updateFeed: function() {
      document.querySelector('.camera-image').src = 'Lab.png';
    }
  },
  powerRoom: {
    name: "Power Room",
    isOpen: false,
    toggle: function() {
      this.isOpen = !this.isOpen;
      if (this.isOpen) {
        updateCameraFeed(this.name);
        showPowerToggleButton();
      } else {
        closeCameraFeed();
      }
    },
    updateFeed: function() {
      document.querySelector('.camera-image').src = 'PowerRoomActive.png';
    }
  }
};

function Nothing() { return; }

function updateGameTime() {
  if (gameRunning) {
    hours++;
    if (hours === 6) {
      hours = 12;
      night++;
    }
    if (hours === 6 && night === 1) {
      gameRunning = false;
      winMessage.style.display = 'block';
      return;
    }
    nightCounterDisplay.textContent = `Night: ${night}`;
    gameTimeDisplay.textContent = `Time: ${formatTime(hours)}`;
  }
}

function formatTime(hours) {
  let period = hours >= 12 ? 'AM' : 'PM';
  let displayHours = hours % 12;
  displayHours = displayHours === 0 ? 12 : displayHours;
  return `${displayHours} ${period}`;
}

nextHourButton.addEventListener('click', function() {
  updateGameTime();
});

function moveMouse() {
  if (mouseInMainArea) {
    playStaticCue();
    mouseInMainArea = false;
    mouseInLab = true;
    setTimeout(() => {
      setTimeout(() => {
        mouseAtDoor = true;
        playAudioCue("Mouse is at the door. Close the door!");
      }, 3000);
    }, 3000);
  }
}

function playDoorClosingSound() {
  const doorAudio = document.getElementById('door-audio');
  doorAudio.play();
}

function playErrorSound() {
  const errorAudio = document.getElementById('error-audio');
  errorAudio.play();
}

function closeOfficeDoor() {
  const currentTime = Date.now();
  if (currentTime - lastActionTime >= cooldownDuration) {
    if (powerRoomActive) {
      officeDoorClosed = !officeDoorClosed;
      lastActionTime = currentTime;
      var hallwayImage = document.querySelector('.hallway-image');
      if (officeDoorClosed) {
        hallwayImage.src = 'OfficeDoorClosed.png';
        playDoorClosingSound();
      } else {
        hallwayImage.src = 'Hallway.png';
        playDoorClosingSound();
      }
    } else {
      playErrorSound();
    }
  }
}

function showGameScreen() {
  document.querySelector('.menu').style.display = 'none';
  document.querySelector('.game-screen').style.display = 'block';
  document.getElementById('office-vent-closed').style.display = 'block';
  startGame();
}

function playStaticCue() {
  const audio = new Audio('static3.mp3');
  audio.play();
}

function triggerStaticOverlay() {
  var staticOverlay = document.querySelector('.static-overlay');
  if (!staticOverlay) {
    console.error('Static overlay not found!');
    return;
  }
  staticOverlay.style.display = 'block';
  staticOverlay.style.opacity = 1;
  setTimeout(() => {
    staticOverlay.style.opacity = 0;
  }, 490);
  setTimeout(() => {
    staticOverlay.style.display = 'none';
  }, 1000);
}

function startGame() {
  setInterval(() => {
    moveAnimatronics();
  }, movementInterval);
  listenToPlayerActions();
}

function openCamera(cameraId) {
  var cameraName = "";
  document.getElementById('fog-overlay').style.display = 'none';
  switch(cameraId) {
    case '1':
      cameraName = "Main Area";
      updateCameraFeed(cameraName);
      ventCameraOpen = false;
      playFlipSound();
      triggerStaticOverlay();
      break;
    case '2':
      cameraName = "Hallway";
      updateCameraFeed(cameraName);
      ventCameraOpen = false;
      playFlipSound();
      triggerStaticOverlay();
      break;
    case '3':
      cameraName = "Vent";
      updateCameraFeed(cameraName);
      ventCameraOpen = true;
      playFlipSound();
      triggerStaticOverlay();
      break;
    case '4':
      cameraName = "Lab";
      updateCameraFeed(cameraName);
      ventCameraOpen = false;
      playFlipSound();
      triggerStaticOverlay();
      break;
    case '5':
      cameraName = "Power Room";
      updateCameraFeed(cameraName);
      ventCameraOpen = false;
      playFlipSound();
      triggerStaticOverlay();
      break;
    default:
      alert("Invalid camera selection.");
      ventCameraOpen = false;
      playFlipSound();
      break;
  }
}

function fadeScreen() {
  const fadeOverlay = document.getElementById('fade-overlay');
  fadeOverlay.style.opacity = 1;
  setTimeout(() => {
    fadeOverlay.style.opacity = 0;
  }, 1500);
}

function toggleFog() {
  const fogOverlay = document.getElementById('fog-overlay');
  showFog = !showFog;
  fogOverlay.style.display = showFog ? 'block' : 'none';
}
function toggleAnimatronic(animatronic) {
    switch (animatronic) {
        case 'chomps':
            chompsActive = !chompsActive;
            console.log(`Chomps is now ${chompsActive ? 'active' : 'inactive'}`);
            break;
        case 'mouse':
            mouseActive = !mouseActive;
            console.log(`Mouse is now ${mouseActive ? 'active' : 'inactive'}`);
            break;
        case 'clawed':
            clawedActive = !clawedActive;
            console.log(`Clawed is now ${clawedActive ? 'active' : 'inactive'}`);
            break;
        default:
            console.log("Unknown animatronic.");
    }
}

function updateCameraFeed(cameraName) {
    console.log(`You are viewing the camera feed for: ${cameraName}`);
    document.getElementById('fog-overlay').style.display = 'none';
    switch(cameraName) {
        case "Main Area":
            if (chompsInMainArea && !mouseInMainArea && clawedInVent) {
                console.log("Main Area Camera Feed: Chomp is there..");
                document.querySelector('.cam-image').src = 'S-Chomp.png';  
                document.getElementById('fog-overlay').style.display = 'block';
            } else if (chompsInMainArea && mouseInMainArea && clawedInVent) {
                console.log("Main Area Camera Feed: Chomp and Mouse are there.");
                document.querySelector('.cam-image').src = 'S-ChompMouse.png';
                document.getElementById('fog-overlay').style.display = 'block';
            } else if (!chompsInMainArea && mouseInMainArea && !clawedInVent) {
                console.log("Main Area Camera Feed: Clawed and Mouse are here.");
                document.querySelector('.cam-image').src = 'S-ClawMouse.png'; 
                document.getElementById('fog-overlay').style.display = 'block';
            } else if (chompsInMainArea && !mouseInMainArea && !clawedInVent) {
                console.log("Main Area Camera Feed: Chomp and Clawed are here.");
                document.querySelector('.cam-image').src = 'S-ClawChomp.png'; 
                document.getElementById('fog-overlay').style.display = 'block';
            } else if (chompsInMainArea && mouseInMainArea && !clawedInVent) {
                console.log("Main Area Camera Feed: All animatronics are here.");
                document.querySelector('.cam-image').src = 'S-All.png';
                document.getElementById('fog-overlay').style.display = 'block';
            } else if (!chompsInMainArea && !mouseInMainArea && !clawedInVent) {
                console.log("Main Area Camera Feed: No animatronics in sight.");
                document.querySelector('.cam-image').src = 'S';  
                document.getElementById('fog-overlay').style.display = 'block';
            }
            break;
        case "Vent":
            if (clawedInVent) {
                console.log("Vent Camera Feed: Clawed is in the vent.");
                document.querySelector('.cam-image').src = 'ClawVent.png';
                document.getElementById('fog-overlay').style.display = 'block';
            } else {
                document.querySelector('.cam-image').src = 'Vent.png';
                document.getElementById('fog-overlay').style.display = 'block';
                console.log("Vent Camera Feed: No animatronics in sight.");
            }
            break;
        case "Lab":
            console.log("Storage Camera Feed: The Storage is quiet.");
            document.querySelector('.cam-image').src = 'Storage.png';
            document.getElementById('fog-overlay').style.display = 'block';
            break;
        case "Power Room":
            console.log("Power Room Camera Feed: " + (powerRoomCameraActive ? "Active." : "Inactive."));
            document.querySelector('.cam-image').src = 'Power.png';
            document.getElementById('fog-overlay').style.display = 'block';
            break;
        default:
            console.log("Error: Camera not found.");
    }
}

function togglePower() {
    const powerBtn = document.querySelector('.power-toggle-btn');  
    powerRoomActive = !powerRoomActive;  

    if (powerRoomActive) {
        console.log("Power is now ACTIVE.");
        powerBtn.classList.add('active');
        powerBtn.innerText = "Toggle OFF";
    } else {
        console.log("Power is now INACTIVE.");
        powerBtn.classList.remove('active');
        powerBtn.innerText = "Toggle ON";
    }
}

function showPowerToggleButton() {
    const powerBtn = document.querySelector('.power-toggle-btn');  
    powerBtn.style.display = 'block';
    console.log("You can now toggle power from the Power Room.");
}

function hidePowerToggleButton() {
    const powerBtn = document.getElementById('powerToggleBtn');
    setTimeout(() => {
        powerBtn.style.display = 'none';
    }, 300);  
}

function playFlipSound() {
    const flipSound = new Audio('Flip.ogg');
    flipSound.play();
}

document.addEventListener('keydown', function(event) {
    if (event.key === 'c' || event.key === 'C') {
        openCamerasMenu();
        console.log("Camera menu triggered.");
    }

    if (event.key === 'd' || event.key === 'D') {
        closeOfficeDoor();
        console.log("Office door toggled.");
    }
});

function setDifficulty() {
    let difficulty = prompt("Enter AI Difficulty (1 to 10):");
    aiDifficulty = parseInt(difficulty, 10);
    if (aiDifficulty >= 1 && aiDifficulty <= 10) {
        switch (aiDifficulty) {
            case 1: movementInterval = 30000; break;
            case 2: movementInterval = 29000; break;
            case 3: movementInterval = 27000; break;
            case 4: movementInterval = 25500; break;
            case 5: movementInterval = 20000; break;
            case 6: movementInterval = 15000; break;
            case 7: movementInterval = 10000; break;
            case 8: movementInterval = 7500; break;
            case 9: movementInterval = 6250; break;
            case 10: movementInterval = 5000; break;
        }
        console.log(`AI Difficulty set to: ${aiDifficulty}`);
    } else {
        alert("Please enter a valid difficulty (1 to 10).");
    }
}

function resetGame() {
    setTimeout(() => {
        window.location.reload();
    }, 3000);  
}

function playJumpScareSound() {
    const audio = new Audio('fnaf2jumpscare.mp3');
    audio.play();
    console.log("Jump scare sound is playing.");
}
function moveAnimatronics() {
  if (chompsActive && !mouseInHallway && chompsInMainArea && Math.random() < 0.2) {
    chompsInMainArea = false;
    chompsInHallway = true;
    playChompsMoveSound();
    fadeScreen();
    document.querySelector('.hallway-image').src = 'ChompsHallway.png';
    document.getElementById('fog-overlay').style.display = 'none';
    const waitTime = Math.floor(Math.random() * 16) + 5;
    setTimeout(() => {
      if (chompsActive && chompsInHallway && powerRoomActive) {
        fadeScreen();
        triggerJumpScare("Chomps caught you with the power ON!");
      } else {
        fadeScreen();
        document.querySelector('.hallway-image').src = 'Hallway.png';
        document.getElementById('fog-overlay').style.display = 'none';
        chompsInHallway = false;
        chompsInMainArea = true;
      }
    }, waitTime * 1000);
  }

  if (chompsActive && chompsInMainArea && Math.random() < 0.1) {
    chompsInMainArea = false;
    chompsInHallway = true;
    fadeScreen();
    playChompsMoveSound();
    const waitTime = Math.floor(Math.random() * 16) + 15;
    setTimeout(() => {
      if (chompsActive && chompsInHallway && powerRoomActive) {
        fadeScreen();
        playJumpScareSound();
        triggerJumpScare("Chomps caught you with the power ON!");
      } else {
        fadeScreen();
        chompsInHallway = false;
        chompsInMainArea = true;
      }
    }, waitTime * 2000);
  }

  if (mouseActive && !chompsInHallway && mouseInMainArea && Math.random() < 0.15) {
    mouseInMainArea = false;
    mouseInHallway = true;
    playStaticCue();
    fadeScreen();
    document.querySelector('.hallway-image').src = 'MouseHallway.png';
    document.getElementById('fog-overlay').style.display = 'none';
  }

  if (mouseActive && mouseInHallway && !mouseAtDoor) {
    mouseDelayTime = Math.floor(Math.random() * 11) + 10;
    setTimeout(() => {
      mouseAtDoor = true;
      mouseInHallway = false;
      fadeScreen();
      console.log("Mouse has reached the office door!");
      if (!officeDoorClosed)
        document.querySelector('.hallway-image').src = 'MouseDoor.png';
      document.getElementById('fog-overlay').style.display = 'none';
      if (officeDoorClosed) {
        fadeScreen();
        document.getElementById('fog-overlay').style.display = 'none';
        console.log("Office door is closed. Mouse will return to Main Area.");
        mouseAtDoor = false;
        mouseInMainArea = true;
        setTimeout(() => {
          return;
        }, mouseReturnDelay * 1000);
      } else {
        if (!officeDoorClosed) {
          setTimeout(() => {
            return;
          }, 3000);
        }
      }
    }, mouseDelayTime * 1000);
  }

  if (Math.random() < 0.8 && clawedActive && !clawedInVent) moveClawedToVent();

  if (clawedActive && clawedInVent && clawedVentTimeLeft > 0) {
    clawedVentTimeLeft--;
    if (clawedVentTimeLeft <= 0) {
      triggerClawedJumpscare();
    }
  }
}

function stopGame() {
  gameRunning = false;
  chompsActive = false;
  clawedActive = false;
  mouseActive = false;
}

function playClawedVentSound() {
  const audio = new Audio('ventfnaf2.mp3');
  audio.play();
}

function moveClawedToVent() {
  clawedInVent = true;
  if (ventCameraOpen) {
    setTimeout(function () {
      triggerStaticOverlay();
      openCamera('3');
    }, 2000);
  }
  clawedVentTimeLeft = Math.floor(Math.random() * 1) + 5;
  console.log(`Clawed is moving through the vent... You have ${clawedVentTimeLeft} seconds to check the vent.`);
  playClawedVentSound();
  clawedVentTimer = setInterval(() => {
    if (clawedVentTimeLeft > 0) {
      clawedVentTimeLeft--;
    }
    if (clawedVentTimeLeft <= 0) {
      clearInterval(clawedVentTimer);
      if (!ventCameraOpen) {
        triggerClawedJumpscare();
      } else if (ventCameraOpen && clawedActive) {
        console.log("You were looking at the vent camera. No jump scare.");
        clawedBackToStage();
        setTimeout(function () {
          triggerStaticOverlay();
          openCamera('3');
        }, 100);
      }
    }
  }, 1000);
}

function triggerJumpScare(message) {
  const deathMessageElement = document.getElementById('death-message');
  deathMessageElement.textContent = message || 'You were caught by an animatronic!';
  document.getElementById('death-screen').style.display = 'block';
  stopGame();
  playJumpScareSound();
}

function pauseGame() {
  clearInterval(gameLoop);
}

function startGame() {
  document.querySelector('.menu').style.display = 'none';
  document.querySelector('.game-screen').style.display = 'block';
  document.querySelector('.animatronic-controls').style.display = 'none';
  gameLoop = setInterval(() => {
    moveAnimatronics();
  }, movementInterval);
  listenToPlayerActions();
}

function retryGame() {
  resetGame();
}

function triggerClawedJumpscare() {
  var camMenu = document.getElementById('Cam');
  if (camMenu && camMenu.style.display === 'block') {
    openCamerasMenu();
  }
  document.getElementById('fog-overlay').style.display = 'none';
  var jumpscareOverlay = document.getElementById('clawed-jumpscare-overlay');
  var jumpscareVideo = document.getElementById('clawed-jumpscare-video');
  jumpscareOverlay.style.display = 'block';
  jumpscareVideo.play();
  setTimeout(function () {
    jumpscareVideo.pause();
    jumpscareOverlay.style.display = 'none';
    resetGame();
    document.getElementById('death-screen').style.display = 'block';
  }, 7000);
}

document.addEventListener("DOMContentLoaded", function () {
  const fullscreenBtn = document.getElementById('fullscreenBtn');
  function enterFullscreen() {
    if (document.documentElement.requestFullscreen) {
      document.documentElement.requestFullscreen();
    } else if (document.documentElement.mozRequestFullScreen) {
      document.documentElement.mozRequestFullScreen();
    } else if (document.documentElement.webkitRequestFullscreen) {
      document.documentElement.webkitRequestFullscreen();
    } else if (document.documentElement.msRequestFullscreen) {
      document.documentElement.msRequestFullscreen();
    }
    fullscreenBtn.innerText = "Exit Fullscreen";
  }

  function exitFullscreen() {
    if (document.exitFullscreen) {
      document.exitFullscreen();
    } else if (document.mozCancelFullScreen) {
      document.mozCancelFullScreen();
    } else if (document.webkitExitFullscreen) {
      document.webkitExitFullscreen();
    } else if (document.msExitFullscreen) {
      document.msExitFullscreen();
    }
    fullscreenBtn.innerText = "Go Fullscreen";
  }

  fullscreenBtn.addEventListener('click', function () {
    if (!document.fullscreenElement &&
      !document.mozFullScreenElement &&
      !document.webkitFullscreenElement &&
      !document.msFullscreenElement) {
      enterFullscreen();
    } else {
      exitFullscreen();
    }
  });

  document.addEventListener("keydown", function (event) {
    if (event.key === "f" || event.key === "F") {
      if (!document.fullscreenElement &&
        !document.mozFullScreenElement &&
        !document.webkitFullscreenElement &&
        !document.msFullscreenElement) {
        enterFullscreen();
      } else {
        exitFullscreen();
      }
    }
  });
});

function showMenu() {
  window.location.reload();
}

function resetGame() {
  stopGame();
}

function clawedBackToStage() {
  if (clawedActive && clawedInVent) {
    clawedInVent = false;
    console.log("Clawed has returned to the main area.");
    metalwalk();
    clearInterval(clawedVentTimer);
    clawedVentTimeLeft = 0;
  } else {
    return;
  }
}

function updateAnimatronicsStatus(message) {
  const statusDiv = document.getElementById('animatronics-status');
  statusDiv.innerHTML = `<p>${message}</p>`;
}

function playAudioCue(cue) {
  const audioCuesDiv = document.getElementById('audio-cues');
  audioCuesDiv.innerHTML = `<p>*Audio Cue*: ${cue}</p>`;
}

function listenToPlayerActions() {}

function openCamerasMenu() {
  var camMenu = document.getElementById('Cam');
  if (camMenu.style.display === 'block') {
    document.querySelector('.power-toggle-btn').style.display = 'none';
    document.getElementById('fog-overlay').style.display = 'none';
    camMenu.style.display = 'none';
  } else {
    openCamera('1');
    camMenu.style.display = 'block';
  }
}

function closeCamera(cameraId) {
  if (cameraId === '5') {
    hidePowerToggleButton();
  }
}

function playJumpScareSound() {
  const audio = new Audio('fnaf2jumpscare.mp3');
  audio.play();
}

function metalwalk() {
  const audio = new Audio('MetalWalk.mp3');
  audio.play();
}

function playChompsMoveSound() {
  const audio = new Audio('fnaf2Amb.mp3');
  audio.play();
}

</script>
</body>
</html>
